# Сервисы новостей — news

## Структура

Сервис АПИ — `api`.
Сервис хранения — `storage`.
Протокол — `newsgrpc`.

Подробности по каждому сервису см. в `README` сервиса.

## Запуск

1. `make nats` — запустит `nats` в Докере.
1. `cd api && make` — запустит сервис `api`.
1. `cd storage && make` — запустит сервис `storage`.

## Тестирование

1. `make -f storage/Makefile test` — создаст БД и тестовые записи.
1. `make -f api/Makefile g200` — вернет успешный ответ, новость найдена.
1. `make -f api/Makefile g404` — вернет ответ 404, новость не найдена.

## TODO

1. Отказаться от `glide`, `vendor` и установить пакеты модулями.
1. Заменить обработку ошибок `log.Println(err)` на соответствующий вызов оповещения разработчика: `bugsnag.Notify(err)`.
1. Перенести сервисы в отдельные репозитории и перестроить пути импорта.
